<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hive blog by grzegorz2047</title>
    <script src="https://cdn.jsdelivr.net/npm/@hiveio/hive-js/dist/hive.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <link href="https://bootswatch.com/5/lux/bootstrap.min.css" rel="stylesheet">
    <link href="https://bootswatch.com/5/lux/bootstrap.rtl.min.css" rel="stylesheet">
</head>
<style>
    img {
        max-width: 100%; 
        height: auto;
    }
    .posts {
        font-family: Arial, Helvetica, sans-serif; 
        white-space: pre-wrap;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
        background-color: rgb(211, 211, 211);
    }
</style>
<body>
    <div id="account" >
        <div id="post-list" class="posts"></div>
        <script>
            var articlesList = "";
    
          (()=>{
            const author = "grzegorz2047";
            hive.api.getAccounts([author], function(err, result) {
                console.log(err, result);
            });
            hive.api.getBlogEntries(author, Infinity, 3, function(err, data) {
                data.forEach(element => {
                    const permlink = element.permlink;
                    hive.api.getContent(author, permlink, function(errs, article) {
                            articlesList += "<h2>" + article.title + "</h2>" + "\n";
                            articlesList += "<div>" + article.body + "</div>" + "\n";   
                            document.getElementById("post-list").innerHTML = marked.parse(articlesList); 
                    });
                });
            });
          })();
        </script>
</body>
</html>
