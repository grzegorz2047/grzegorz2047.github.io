<!doctype html>
<html lang="pl">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script type="text/javascript">
        window.addEventListener('load', function () {
            if (typeof web3 !== 'undefined') {
                console.log('Web3 Detected! ' + web3.currentProvider.constructor.name)
                window.web3 = new Web3(web3.currentProvider);
            }
        })
        function getBalance() {
              var address, wei, balance
              address = document.getElementById("address").value
              try {
                  web3.eth.getBalance(address, function (error, wei) {
                      if (!error) {
                          var balance = web3.utils.fromWei(wei, 'ether');
                          document.getElementById("output").innerHTML = balance + " ETH";
                      }
                  });
              } catch (err) {
                  document.getElementById("output").innerHTML = err;
              }
          }
        function sendMatic() {
          let sourceAddress, destinationAddress, amount;
          sourceAddress = document.getElementById("sourceAddress").value;
          destinationAddress = document.getElementById("destinationAddress").value;
          amount = document.getElementById("amount").value
            web3.eth.accounts.wallet.add("pvt-key");

            // Send 0.001 MATIC
            web3.eth
              .sendTransaction({
                from: sourceAddress,
                to: destinationAddress,
                value: web3.utils.toWei(amount, "ether"),
                gas: 8000000,
              })
              .then(function (receipt) {
                console.log(receipt);
              });
              }
    </script>
    <body>
      <h1>ETH Balance Fetcher</h1>
      <p>Wy≈õlij matica:</p>
      <input type="text" size="50" id="sourceAddress" />
      <input type="text" size="50" id="destinationAddress" />
      <input type="text" size="50" id="amount" />
      <button type="button" onClick="sendMatic();">Get Balance</button>
      <br />
      <br />
    <div id="output"></div>
</body>
</html>
